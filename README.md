# Building the Final Project Report

## Project Organization

  - datasets used to build this report is in folder `f1_datasets/`
  - all code to build final report exists in the folder `code/`
  - all outputs derived from the code will be stored in the folder `output/`
  - `Makefile` contains rules for building the final report
    - use command `make report.html` to build final report
  - `renv` package used to add a lock file (`renv.lock`) and folder `renv/` to capture information on packages
  - use make rule `install` to restore package library 

## How to build final report

  - use command `make report.html` to build final report
  - use make rule `install` to restore package library 

## Code Description

`code/00_clean_data.R`

  - reads multiple Formula 1 datasets from the folder `f1_datasets/`
  - filters data for Charles Leclerc's races with Ferrari (2019-2024)
  - merges datasets and selects relevant variables 
  - creates new categorical variable based on race finish position 
  - assigns variable labels for clarity 
  - saves cleaned datasets as `.rds` objects in the `output/` folder

`code/01_make_table1.R`

  - reads cleaned subdataset `output/table1_vars.rds`
  - generates Table 1 summarizing Charles Leclerc's race statistics by performance category
  - uses median (IQR) for most variables and mean Â± SD for fastest lap speed
  - adds overall and p-value columns for group comparison
  - saves summary table as `output/table1.rds`

`code/02_make_scatter.R`

  - reads cleaned dataset `output/data1.rds`
  - creates scatter plot of qualifying position vs. race finish position for Charles Leclerc
  - colors data points by performance category (Podium, Points Zone, Non-Scoring) using Ferrari-inspired colors
  - reverses both axes to reflect racing order and adds a reference line (y = x)
  - saves plot as `output/scatterplot.png`

`code/03_regression.R`

  - reads cleaned dataset `output/data1.rds`
  - creates binary variables indicating whether Leclerc started on pole position and whether he won or finished on the podium
  - runs logistic regression to assess the effect of starting on pole position on the likelihood of winning
  - generates formatted regression table displaying odds ratios (OR), 95% confidence intervals, and p-values
  - saves table as `output/regression.rds`

`code/04_render_report.R`

  - renders final project report `report.Rmd` into `.html` file
  - compiles outputs generated by previous `.R` scripts 
  - saves rendered report as `report.html` in project directory


